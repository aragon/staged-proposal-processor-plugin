CreateProposal_SPP_IntegrationTest
├── when caller is not allowed
│   └── it should revert.
├── when stages are configured
│   ├── given some sub proposals on stage zero are non manual
│   │   ├── when sub proposal can not be created
│   │   │   └── it should emit an event.     // TBD
│   │   └── when sub proposal can be created
│   │       ├── it should emit events.
│   │       ├── it should create proposal.
│   │       ├── it should create non-manual sub proposals on stage zero.
│   │       └── it should not create sub proposals on non zero stages.
│   ├── given all sub proposal on stage zero are manual
│   │   ├── it should emit events.
│   │   ├── it should create proposal.
│   │   ├── it should not create sub proposals on stage zero.
│   │   └── it should not create sub proposals on non zero stages.
│   ├── given startDate is in the past
│   │   ├── it should use block.timestamp for last stage transition.
│   │   └── it should use block.timestamp for first stage sub proposal startDate.
│   └── given startDate in in the future
│       ├── it should use startDate for last stage transition.
│       └── it should use startDate for first stage sub proposal startDate.
└── when stages are not configured
    └── it should revert.

// todo add test for checking the gas left behaviour
